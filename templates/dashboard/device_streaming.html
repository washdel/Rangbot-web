{% extends 'dashboard_base.html' %}
{% load static %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-white pt-20 pb-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Back Button -->
        <a href="{% url 'main:device_detail' device.id %}" class="inline-flex items-center gap-2 mb-6 text-gray-600 transition-colors font-light" onmouseover="this.style.color='#ef4444';" onmouseout="this.style.color='#6b7280';">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
            </svg>
            Kembali ke Detail Perangkat
        </a>

        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl sm:text-4xl font-light text-gray-900 tracking-tight mb-2">
                Streaming Kamera
            </h1>
            <p class="text-gray-600 font-light text-sm sm:text-base">
                {{ device.device_name|default:device.serial_number }}
            </p>
        </div>

        <!-- Streaming Container -->
        <div class="bg-white rounded-2xl border p-6" style="border-color: rgba(229, 231, 235, 0.6);">
            <div class="aspect-video bg-gray-900 rounded-xl overflow-hidden mb-4 flex items-center justify-center">
                <!-- Video stream will be embedded here -->
                <div class="text-center">
                    <svg class="w-16 h-16 mx-auto mb-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                    </svg>
                    <p class="text-sm font-light text-gray-400">Streaming akan ditampilkan di sini</p>
                    <p class="text-xs font-light text-gray-500 mt-2">URL: rtsp://device-{{ device.serial_number }}/stream</p>
                </div>
            </div>
            
            <!-- Controls -->
            <div class="flex items-center justify-center gap-4">
                <button id="play-btn" class="px-6 py-3 rounded-xl text-white font-light text-sm transition-all duration-300 hover:scale-105" style="background: #ef4444;">
                    Putar
                </button>
                <button id="stop-btn" class="px-6 py-3 rounded-xl border font-light text-sm transition-all duration-300 hover:scale-105" style="border-color: rgba(229, 231, 235, 0.6); color: #6b7280;">
                    Hentikan
                </button>
            </div>
        </div>
    </div>
</div>

{% block extra_js %}
<script>
    // TODO: Implement video streaming
    document.getElementById('play-btn').addEventListener('click', () => {
        console.log('Start streaming');
    });
    
    document.getElementById('stop-btn').addEventListener('click', () => {
        console.log('Stop streaming');
    });
</script>
{% endblock %}

