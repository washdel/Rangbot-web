{% extends 'base.html' %}
{% load static %}

{% block title %}Informasi Produk - RangBot{% endblock %}

{% block content %}
<div class="pt-28 pb-20 min-h-screen bg-white relative overflow-hidden">
    <!-- Subtle Background Pattern -->
    <div class="absolute inset-0 opacity-[0.015]" style="background-image: radial-gradient(circle at 2px 2px, rgba(0,0,0,0.15) 1px, transparent 0); background-size: 40px 40px;"></div>
    
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="text-center mb-12 sm:mb-16">
            <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full border mb-4" style="background: rgba(134, 239, 172, 0.1); border-color: rgba(134, 239, 172, 0.4);">
                <div class="w-2 h-2 rounded-full animate-pulse" style="background: #86efac;"></div>
                <span class="text-xs sm:text-sm font-medium tracking-wide" style="color: #86efac;">Informasi Produk</span>
            </div>
            <h2 class="text-3xl sm:text-4xl md:text-5xl text-gray-900 mb-4 sm:mb-6 tracking-tight font-light">
                <span class="bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent">Informasi Produk</span>
            </h2>
            <p class="text-base sm:text-lg md:text-xl text-gray-600 leading-relaxed font-light max-w-2xl mx-auto">
                FAQ, Harga, dan Forum Komunitas
            </p>
        </div>

        <!-- Elegant Tabs -->
        <div class="flex flex-wrap gap-3 sm:gap-4 justify-center mb-12 sm:mb-16">
            <button onclick="showTab('faq')" id="tab-faq" class="group relative px-6 sm:px-8 py-3 sm:py-3.5 rounded-xl transition-all duration-300 tab-button active-tab overflow-hidden" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 4px 12px rgba(134, 239, 172, 0.3);" onmouseover="this.style.boxShadow='0 6px 16px rgba(134, 239, 172, 0.4)'; this.style.transform='translateY(-2px)';" onmouseout="this.style.boxShadow='0 4px 12px rgba(134, 239, 172, 0.3)'; this.style.transform='translateY(0)';">
                <div class="flex items-center gap-2.5 relative z-10">
                    <svg class="w-4 h-4 sm:w-5 sm:h-5 text-white transition-transform duration-300 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span class="text-white font-light text-sm sm:text-base tracking-wide">FAQ</span>
                </div>
                <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            </button>
            <button onclick="showTab('pricing')" id="tab-pricing" class="group relative px-6 sm:px-8 py-3 sm:py-3.5 rounded-xl transition-all duration-300 tab-button bg-white/80 backdrop-blur-sm border shadow-sm hover:shadow-md" style="border-color: rgba(229, 231, 235, 0.6); color: #6b7280;" onmouseover="this.style.borderColor='rgba(134, 239, 172, 0.4)'; this.style.color='#86efac'; this.style.background='rgba(134, 239, 172, 0.05)'; this.style.transform='translateY(-2px)';" onmouseout="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.color='#6b7280'; this.style.background='rgba(255, 255, 255, 0.8)'; this.style.transform='translateY(0)';">
                <div class="flex items-center gap-2.5 relative z-10">
                    <svg class="w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span class="font-light text-sm sm:text-base tracking-wide">Harga</span>
                </div>
            </button>
            <button onclick="showTab('forum')" id="tab-forum" class="group relative px-6 sm:px-8 py-3 sm:py-3.5 rounded-xl transition-all duration-300 tab-button bg-white/80 backdrop-blur-sm border shadow-sm hover:shadow-md" style="border-color: rgba(229, 231, 235, 0.6); color: #6b7280;" onmouseover="this.style.borderColor='rgba(134, 239, 172, 0.4)'; this.style.color='#86efac'; this.style.background='rgba(134, 239, 172, 0.05)'; this.style.transform='translateY(-2px)';" onmouseout="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.color='#6b7280'; this.style.background='rgba(255, 255, 255, 0.8)'; this.style.transform='translateY(0)';">
                <div class="flex items-center gap-2.5 relative z-10">
                    <svg class="w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                    </svg>
                    <span class="font-light text-sm sm:text-base tracking-wide">Forum</span>
                </div>
            </button>
        </div>

        <!-- FAQ Content - Elegant & Interactive -->
        <div id="content-faq" class="tab-content">
            <div class="max-w-4xl mx-auto">
                <div class="space-y-3 sm:space-y-4">
                    {% for faq in faqs %}
                    <div class="group bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/60 overflow-hidden transition-all duration-500 faq-item hover:shadow-xl hover:border-gray-300/60" style="border-color: rgba(229, 231, 235, 0.6);" onmouseover="this.style.borderColor='rgba(134, 239, 172, 0.4)';" onmouseout="this.style.borderColor='rgba(229, 231, 235, 0.6)';">
                        <button class="w-full text-left flex items-center justify-between px-6 sm:px-8 py-5 sm:py-6 faq-question hover:no-underline transition-all duration-300 group-hover:bg-gray-50/50">
                            <span class="text-gray-900 font-light text-base sm:text-lg pr-4 leading-relaxed">{{ faq.question }}</span>
                            <div class="flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-300 faq-icon" style="background: rgba(134, 239, 172, 0.1);">
                                <svg class="w-4 h-4 transition-transform duration-300" style="color: #86efac;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                                </svg>
                            </div>
                        </button>
                        <div class="faq-answer hidden px-6 sm:px-8 pb-5 sm:pb-6">
                            <div class="pt-2 border-t border-gray-100">
                                <p class="text-gray-600 leading-relaxed text-sm sm:text-base font-light pt-4">{{ faq.answer }}</p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <!-- Support Section - Elegant -->
                <div class="mt-12 sm:mt-16 text-center bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/60 p-8 sm:p-10 shadow-lg hover:shadow-xl transition-all duration-500" style="border-color: rgba(229, 231, 235, 0.6);">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4 shadow-lg" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 10px 25px rgba(134, 239, 172, 0.3);">
                        <svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <h3 class="text-gray-900 mb-3 font-light text-xl sm:text-2xl tracking-tight">Masih Ada Pertanyaan?</h3>
                    <p class="text-gray-600 mb-6 text-sm sm:text-base font-light leading-relaxed max-w-md mx-auto">Hubungi tim support kami untuk bantuan lebih lanjut</p>
                    <button onclick="openSupportModal()" class="group relative inline-flex items-center gap-2 px-6 sm:px-8 py-3 sm:py-3.5 rounded-xl text-white font-light text-sm sm:text-base tracking-wide transition-all duration-300 hover:scale-105 active:scale-95 overflow-hidden shadow-lg hover:shadow-xl" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 4px 12px rgba(134, 239, 172, 0.3);" onmouseover="this.style.boxShadow='0 6px 16px rgba(134, 239, 172, 0.4)';" onmouseout="this.style.boxShadow='0 4px 12px rgba(134, 239, 172, 0.3)';">
                        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        <span class="relative z-10">Hubungi Support</span>
                        <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Pricing Content - Interactive with Red & Green Theme -->
        <div id="content-pricing" class="tab-content hidden">
            <div class="grid md:grid-cols-2 gap-6 sm:gap-8 lg:gap-10 max-w-4xl mx-auto">
                {% for plan in pricing_plans %}
                <div class="group relative bg-white/95 backdrop-blur-md rounded-3xl p-6 sm:p-8 lg:p-10 border-2 transition-all duration-500 ease-out pricing-card {% if plan.highlight %}ring-2 ring-offset-2{% endif %}" 
                     style="border-color: {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.3){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.4){% else %}rgba(239, 68, 68, 0.3){% endif %}; {% if plan.highlight %}ring-color: {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#86efac{% else %}#ef4444{% endif %}; ring-opacity: 0.2; box-shadow: 0 10px 30px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.3){% else %}rgba(239, 68, 68, 0.2){% endif %};{% else %}box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);{% endif %}"
                     data-border="{% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.3){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.4){% else %}rgba(239, 68, 68, 0.3){% endif %}"
                     data-hover-border="{% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.6){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.7){% else %}rgba(239, 68, 68, 0.6){% endif %}"
                     data-accent="{% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#86efac{% else %}#ef4444{% endif %}"
                     data-shadow="{% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.3){% else %}rgba(239, 68, 68, 0.2){% endif %}"
                     onmouseenter="this.style.borderColor=this.dataset.hoverBorder; this.style.transform='translateY(-8px) scale(1.02)'; this.style.boxShadow='0 20px 40px ' + this.dataset.shadow.replace('0.2', '0.4').replace('0.3', '0.5');"
                     onmouseleave="this.style.borderColor=this.dataset.border; this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='{% if plan.highlight %}0 10px 30px ' + this.dataset.shadow + '{% else %}0 4px 15px rgba(0, 0, 0, 0.08){% endif %}';">
                    
                    <!-- Animated Background Gradient -->
                    <div class="absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-[0.03] transition-opacity duration-500" 
                         style="background: linear-gradient(135deg, {% if plan.name == 'Basic' %}#f87171{% elif plan.name == 'Professional' %}#86efac{% else %}#f87171{% endif %} 0%, {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#4ade80{% else %}#ef4444{% endif %} 100%); pointer-events: none;"></div>
                    
                    <!-- Badge for Popular Plan -->
                    {% if plan.highlight %}
                    <div class="relative inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs sm:text-sm font-medium mb-6 shadow-lg animate-pulse" 
                         style="background: linear-gradient(135deg, {% if plan.name == 'Basic' %}#f87171{% elif plan.name == 'Professional' %}#86efac{% else %}#f87171{% endif %} 0%, {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#4ade80{% else %}#ef4444{% endif %} 100%); color: white; box-shadow: 0 4px 15px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.2){% else %}rgba(239, 68, 68, 0.2){% endif %};">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                        <span>Paling Populer</span>
                    </div>
                    {% endif %}
                    
                    <div class="relative">
                        <!-- Plan Name -->
                        <h3 class="mb-3 text-2xl sm:text-3xl font-light tracking-tight transition-colors duration-300" 
                            style="color: {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#86efac{% else %}#ef4444{% endif %};">{{ plan.name }}</h3>
                        
                        <!-- Description -->
                        <p class="text-sm sm:text-base text-gray-600 mb-6 font-light leading-relaxed">{{ plan.description|default:"Paket lengkap untuk kebutuhan Anda" }}</p>
                        
                        <!-- Price Box -->
                        <div class="mb-8 px-6 py-6 sm:px-8 sm:py-7 rounded-2xl transition-all duration-300 group-hover:scale-[1.02]" 
                             style="background: linear-gradient(135deg, {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.1){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.1){% else %}rgba(239, 68, 68, 0.1){% endif %} 0%, {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.2){% else %}rgba(239, 68, 68, 0.2){% endif %} 100%); border: 1px solid {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.3){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.4){% else %}rgba(239, 68, 68, 0.3){% endif %};">
                            {% if plan.price == "Custom" %}
                            <div class="text-2xl sm:text-3xl font-light tracking-tight mb-2" 
                                 style="color: {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#86efac{% else %}#ef4444{% endif %};">Custom</div>
                            <p class="text-xs sm:text-sm text-gray-600 mt-3 font-light">Diskusikan dengan tim kami</p>
                            {% else %}
                            <div class="flex items-baseline gap-2.5 sm:gap-3">
                                <span class="text-lg sm:text-xl text-gray-600 font-light">Rp</span>
                                <span class="text-2xl sm:text-3xl lg:text-4xl font-light tracking-tight" 
                                      style="color: {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#86efac{% else %}#ef4444{% endif %};">{{ plan.price }}</span>
                            </div>
                            {% endif %}
                        </div>

                        <!-- Features List -->
                        <ul class="space-y-3.5 mb-8">
                            {% for feature in plan.features %}
                            <li class="flex items-start gap-3 text-sm sm:text-base text-gray-700 font-light group/feature transition-all duration-300 hover:translate-x-1">
                                <div class="flex-shrink-0 w-6 h-6 rounded-lg flex items-center justify-center mt-0.5 transition-all duration-300 group-hover/feature:scale-110 group-hover/feature:rotate-6" 
                                     style="background: {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.1){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.1){% else %}rgba(239, 68, 68, 0.1){% endif %}; border: 1px solid {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.3){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.4){% else %}rgba(239, 68, 68, 0.3){% endif %};">
                                    <svg class="w-4 h-4 transition-colors duration-300" 
                                         style="color: {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#86efac{% else %}#ef4444{% endif %};" 
                                         fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                                    </svg>
                                </div>
                                <span class="leading-relaxed flex-1">{{ feature }}</span>
                            </li>
                            {% endfor %}
                        </ul>

                        <!-- CTA Button -->
                        {% if plan.price == "Custom" %}
                        <button onclick="openSalesModal()" 
                                class="group/btn relative block w-full text-center rounded-xl px-6 py-4 sm:py-4.5 transition-all duration-300 overflow-hidden font-light text-sm sm:text-base text-white shadow-lg hover:shadow-xl"
                                style="background: linear-gradient(135deg, {% if plan.name == 'Basic' %}#f87171{% elif plan.name == 'Professional' %}#86efac{% else %}#f87171{% endif %} 0%, {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#4ade80{% else %}#ef4444{% endif %} 100%); box-shadow: 0 6px 20px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.2){% else %}rgba(239, 68, 68, 0.2){% endif %};"
                                onmouseenter="this.style.boxShadow='0 8px 25px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.4){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.5){% else %}rgba(239, 68, 68, 0.4){% endif %}'; this.style.transform='translateY(-2px)';"
                                onmouseleave="this.style.boxShadow='0 6px 20px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.2){% else %}rgba(239, 68, 68, 0.2){% endif %}'; this.style.transform='translateY(0)';">
                            <span class="relative z-10 inline-flex items-center justify-center gap-2">
                                <svg class="w-5 h-5 group-hover/btn:rotate-12 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                                </svg>
                                Hubungi Sales
                            </span>
                            <div class="absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"></div>
                        </button>
                        {% else %}
                        <a href="/pembelian/?paket={{ plan.name|lower }}#choose-package" 
                           class="group/btn relative block w-full text-center rounded-xl px-6 py-4 sm:py-4.5 transition-all duration-300 overflow-hidden font-light text-sm sm:text-base text-white shadow-lg hover:shadow-xl"
                           style="background: linear-gradient(135deg, {% if plan.name == 'Basic' %}#f87171{% elif plan.name == 'Professional' %}#86efac{% else %}#f87171{% endif %} 0%, {% if plan.name == 'Basic' %}#ef4444{% elif plan.name == 'Professional' %}#4ade80{% else %}#ef4444{% endif %} 100%); box-shadow: 0 6px 20px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.2){% else %}rgba(239, 68, 68, 0.2){% endif %};"
                           onmouseenter="this.style.boxShadow='0 8px 25px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.4){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.5){% else %}rgba(239, 68, 68, 0.4){% endif %}'; this.style.transform='translateY(-2px)';"
                           onmouseleave="this.style.boxShadow='0 6px 20px {% if plan.name == 'Basic' %}rgba(239, 68, 68, 0.2){% elif plan.name == 'Professional' %}rgba(134, 239, 172, 0.2){% else %}rgba(239, 68, 68, 0.2){% endif %}'; this.style.transform='translateY(0)';">
                            <span class="relative z-10 inline-flex items-center justify-center gap-2">
                                <span>Pilih Paket</span>
                                <svg class="w-5 h-5 group-hover/btn:translate-x-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                                </svg>
                            </span>
                            <div class="absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"></div>
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Forum Content - Elegant & Consistent -->
        <div id="content-forum" class="tab-content hidden">
            <div class="max-w-4xl mx-auto space-y-4 sm:space-y-6">
                <div class="bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/60 p-6 sm:p-8 shadow-lg hover:shadow-xl transition-all duration-500" style="border-color: rgba(229, 231, 235, 0.6);">
                    <div class="flex items-start gap-4 sm:gap-6">
                        <div class="flex-shrink-0 w-12 h-12 sm:w-14 sm:h-14 rounded-xl flex items-center justify-center shadow-lg" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 10px 25px rgba(134, 239, 172, 0.3);">
                            <svg class="w-6 h-6 sm:w-7 sm:h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-gray-900 mb-3 font-light text-xl sm:text-2xl tracking-tight">Komunitas RangBot</h3>
                            <p class="text-gray-600 mb-6 text-sm sm:text-base font-light leading-relaxed">
                                Bergabung dengan komunitas petani stroberi modern. Berbagi pengalaman dan tips.
                            </p>
                            <div class="flex gap-3">
                                <a href="{% url 'main:forum_list' %}" class="group relative inline-flex items-center gap-2 px-6 sm:px-8 py-3 sm:py-3.5 rounded-xl text-white font-light text-sm sm:text-base tracking-wide transition-all duration-300 hover:scale-105 active:scale-95 overflow-hidden shadow-lg hover:shadow-xl" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 4px 12px rgba(134, 239, 172, 0.3);" onmouseover="this.style.boxShadow='0 6px 16px rgba(134, 239, 172, 0.4)';" onmouseout="this.style.boxShadow='0 4px 12px rgba(134, 239, 172, 0.3)';">
                                <svg class="w-4 h-4 group-hover:scale-110 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                </svg>
                                    <span class="relative z-10">Masuk ke Forum</span>
                                <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            </a>
                            </div>
                        </div>
                    </div>
                </div>

                {% if forum_posts %}
                {% for post in forum_posts %}
                    <a href="{% url 'main:forum_list' %}" class="block group bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/60 p-6 sm:p-8 hover:shadow-xl hover:-translate-y-1 transition-all duration-500" style="border-color: rgba(229, 231, 235, 0.6);" onmouseover="this.style.borderColor='rgba(134, 239, 172, 0.4)';" onmouseout="this.style.borderColor='rgba(229, 231, 235, 0.6)';">
                    <div class="flex items-start justify-between gap-4 mb-4">
                            <h4 class="text-gray-900 font-light text-lg sm:text-xl tracking-tight flex-1 group-hover:text-green-600 transition-colors">{{ post.title }}</h4>
                        <span class="px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap flex-shrink-0" style="background: rgba(134, 239, 172, 0.1); color: #86efac; border: 1px solid rgba(134, 239, 172, 0.3);">
                            {{ post.category|default:"Diskusi" }}
                        </span>
                    </div>
                    <div class="flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-600 mb-3 font-light">
                        <span>oleh <span class="font-medium">{{ post.author }}</span></span>
                        <span>â€¢</span>
                        <span>{{ post.date }}</span>
                    </div>
                    <p class="text-gray-600 text-sm sm:text-base font-light leading-relaxed mb-4">{{ post.excerpt }}</p>
                    <div class="flex items-center gap-2 text-xs sm:text-sm" style="color: #86efac;">
                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                        <span class="font-light">{{ post.replies }} balasan</span>
                    </div>
                    </a>
                {% endfor %}
                    
                    <!-- Link to Forum -->
                    <div class="text-center pt-4">
                        <a href="{% url 'main:forum_list' %}" class="inline-flex items-center gap-2 px-6 py-3 rounded-xl text-gray-600 font-light text-sm sm:text-base transition-all duration-300 hover:text-green-600 hover:bg-green-50 border" 
                           style="border-color: rgba(229, 231, 235, 0.6);">
                            Lihat Semua Postingan
                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </a>
            </div>
                {% else %}
                    <div class="text-center py-12 bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/60" style="border-color: rgba(229, 231, 235, 0.6);">
                        <svg class="w-16 h-16 mx-auto mb-4" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                        <p class="text-gray-600 font-light text-lg mb-2">Belum ada postingan</p>
                        <p class="text-gray-500 font-light text-sm mb-4">Jadilah yang pertama membuat postingan di forum!</p>
                        <a href="{% url 'main:forum_list' %}" class="inline-block px-6 py-3 rounded-xl text-white font-light text-sm sm:text-base transition-all duration-300 hover:scale-105" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 4px 12px rgba(134, 239, 172, 0.3);">
                            Masuk ke Forum
                        </a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Success Notification -->
    {% if show_success_notification %}
    <div id="successNotification" class="fixed top-4 right-4 left-4 sm:left-auto z-50 max-w-md animate-slide-in-right">
        <div class="bg-white/95 backdrop-blur-md rounded-2xl border border-gray-200/60 shadow-2xl p-6 sm:p-8" style="border-color: rgba(134, 239, 172, 0.4); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);">
            <div class="flex items-start gap-4">
                <div class="flex-shrink-0">
                    <div class="w-12 h-12 rounded-xl flex items-center justify-center shadow-lg" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 4px 12px rgba(134, 239, 172, 0.3);">
                        <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <h3 class="text-lg sm:text-xl text-gray-900 mb-2 font-light tracking-tight">Pertanyaan Terkirim!</h3>
                    <p class="text-sm sm:text-base text-gray-600 mb-3 font-light leading-relaxed">
                        Terima kasih <strong>{{ success_name }}</strong>, pertanyaan Anda telah kami terima dan akan segera diproses oleh tim customer service kami.
                    </p>
                    <div class="space-y-2">
                        <p class="text-xs sm:text-sm text-gray-500 font-light">
                            <strong>No. Tiket:</strong> <span style="color: #86efac; font-weight: 500;">{{ success_ticket }}</span>
                        </p>
                        <p class="text-xs sm:text-sm text-gray-500 font-light">
                            Tim kami akan menghubungi Anda dalam 1x24 jam.
                        </p>
                    </div>
                </div>
                <button onclick="closeSuccessNotification()" class="flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-300 hover:bg-gray-100" style="color: #6b7280;" onmouseover="this.style.background='rgba(134, 239, 172, 0.1)'; this.style.color='#86efac';" onmouseout="this.style.background='transparent'; this.style.color='#6b7280';">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Support Modal -->
    <div id="supportModal" class="hidden fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true" style="overscroll-behavior: contain;">
        <!-- Modal Backdrop -->
        <div class="fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300" onclick="closeSupportModal()"></div>
        
        <!-- Modal Container -->
        <div class="flex min-h-full items-center justify-center p-4 sm:p-6">
            <div class="relative w-full max-w-2xl transform rounded-2xl bg-white/95 backdrop-blur-md border border-gray-200/60 shadow-2xl transition-all duration-300 flex flex-col max-h-[90vh]" style="border-color: rgba(229, 231, 235, 0.6);" id="modalContent">
                <!-- Modal Header -->
                <div class="flex items-center justify-between px-6 sm:px-8 pt-6 sm:pt-8 pb-4 border-b border-gray-200/60 flex-shrink-0" style="border-color: rgba(229, 231, 235, 0.6);">
                    <div>
                        <h3 class="text-2xl sm:text-3xl text-gray-900 font-light tracking-tight mb-2">Hubungi Support</h3>
                        <p class="text-sm sm:text-base text-gray-600 font-light">Isi form di bawah ini dan kami akan merespons secepat mungkin</p>
                    </div>
                    <button onclick="closeSupportModal()" class="flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 hover:bg-gray-100" style="color: #6b7280;" onmouseover="this.style.background='rgba(134, 239, 172, 0.1)'; this.style.color='#86efac';" onmouseout="this.style.background='transparent'; this.style.color='#6b7280';">
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <!-- Modal Body - Form (Scrollable) -->
                <div class="px-6 sm:px-8 py-6 sm:py-8 overflow-y-auto flex-1" style="scrollbar-width: thin; scrollbar-color: rgba(134, 239, 172, 0.5) rgba(229, 231, 235, 0.3);">
                    <form method="POST" action="/hubungi-support/" class="space-y-6" id="modalContactForm">
                        {% csrf_token %}
                        <input type="hidden" name="from_modal" value="true">
                        
                        <!-- Name Field -->
                        <div class="space-y-2">
                            <label for="modal-name" class="block text-sm sm:text-base font-light text-gray-700">
                                Nama Lengkap <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                    </svg>
                                </div>
                                <input type="text" id="modal-name" name="name" required
                                       class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0"
                                       style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                       placeholder="Masukkan nama lengkap Anda"
                                       onfocus="this.style.borderColor='rgba(134, 239, 172, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(134, 239, 172, 0.1)';"
                                       onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                            </div>
                        </div>

                        <!-- Email Field -->
                        <div class="space-y-2">
                            <label for="modal-email" class="block text-sm sm:text-base font-light text-gray-700">
                                Email <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <input type="email" id="modal-email" name="email" required
                                       class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0"
                                       style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                       placeholder="nama@email.com"
                                       onfocus="this.style.borderColor='rgba(134, 239, 172, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(134, 239, 172, 0.1)';"
                                       onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                            </div>
                        </div>

                        <!-- Subject Field -->
                        <div class="space-y-2">
                            <label for="modal-subject" class="block text-sm sm:text-base font-light text-gray-700">
                                Subjek <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M7 8h10M7 12h10m-7 4h7M7 4h10a2 2 0 012 2v12a2 2 0 01-2 2H7a2 2 0 01-2-2V6a2 2 0 012-2z" />
                                    </svg>
                                </div>
                                <input type="text" id="modal-subject" name="subject" required
                                       class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0"
                                       style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                       placeholder="Ringkasan pertanyaan atau masalah Anda"
                                       onfocus="this.style.borderColor='rgba(134, 239, 172, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(134, 239, 172, 0.1)';"
                                       onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                            </div>
                        </div>

                        <!-- Category Field -->
                        <div class="space-y-2">
                            <label for="modal-category" class="block text-sm sm:text-base font-light text-gray-700">
                                Kategori <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                                    </svg>
                                </div>
                                <select id="modal-category" name="category" required
                                        class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0 appearance-none bg-white cursor-pointer"
                                        style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                        onfocus="this.style.borderColor='rgba(134, 239, 172, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(134, 239, 172, 0.1)';"
                                        onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                                    <option value="">Pilih kategori pertanyaan</option>
                                    <option value="produk">Informasi Produk</option>
                                    <option value="teknisi">Bantuan Teknis</option>
                                    <option value="pemesanan">Pemesanan & Pembayaran</option>
                                    <option value="pengiriman">Pengiriman & Instalasi</option>
                                    <option value="garansi">Garansi & Perbaikan</option>
                                    <option value="lainnya">Lainnya</option>
                                </select>
                                <div class="absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Message Field -->
                        <div class="space-y-2">
                            <label for="modal-message" class="block text-sm sm:text-base font-light text-gray-700">
                                Pesan / Pertanyaan <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <textarea id="modal-message" name="message" rows="6" required
                                          class="w-full px-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base resize-none focus:outline-none focus:ring-2 focus:ring-offset-0"
                                          style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                          placeholder="Jelaskan pertanyaan atau masalah Anda secara detail..."
                                          onfocus="this.style.borderColor='rgba(134, 239, 172, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(134, 239, 172, 0.1)';"
                                          onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';"></textarea>
                                <div class="absolute bottom-3 right-3 text-xs font-light" style="color: #9ca3af;">
                                    <span id="modalCharCount">0</span>/500
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="pt-4">
                            <button type="submit" 
                                    class="group relative w-full px-6 sm:px-8 py-3.5 sm:py-4 rounded-xl text-white font-light text-sm sm:text-base tracking-wide transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] overflow-hidden shadow-lg hover:shadow-xl"
                                    style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 4px 12px rgba(134, 239, 172, 0.3);"
                                    onmouseover="this.style.boxShadow='0 6px 16px rgba(134, 239, 172, 0.4)';"
                                    onmouseout="this.style.boxShadow='0 4px 12px rgba(134, 239, 172, 0.3)';">
                                <span class="relative z-10 inline-flex items-center justify-center gap-2">
                                    <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                    </svg>
                                    Kirim Pertanyaan
                                </span>
                                <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-green-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Sales Modal (Custom Package Inquiry) -->
    <div id="salesModal" class="hidden fixed inset-0 z-50 overflow-y-auto" aria-labelledby="sales-modal-title" role="dialog" aria-modal="true" style="overscroll-behavior: contain;">
        <!-- Modal Backdrop -->
        <div class="fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300" onclick="closeSalesModal()"></div>
        
        <!-- Modal Container -->
        <div class="flex min-h-full items-center justify-center p-4 sm:p-6">
            <div class="relative w-full max-w-2xl transform rounded-2xl bg-white/95 backdrop-blur-md border border-gray-200/60 shadow-2xl transition-all duration-300 flex flex-col max-h-[90vh]" style="border-color: rgba(239, 68, 68, 0.3);" id="salesModalContent">
                <!-- Modal Header -->
                <div class="flex items-center justify-between px-6 sm:px-8 pt-6 sm:pt-8 pb-4 border-b border-gray-200/60 flex-shrink-0" style="border-color: rgba(229, 231, 235, 0.6);">
                    <div>
                        <h3 class="text-2xl sm:text-3xl text-gray-900 font-light tracking-tight mb-2">Hubungi Sales</h3>
                        <p class="text-sm sm:text-base text-gray-600 font-light">Isi form di bawah ini untuk konsultasi paket custom sesuai kebutuhan Anda</p>
                    </div>
                    <button onclick="closeSalesModal()" class="flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 hover:bg-gray-100" style="color: #6b7280;" onmouseover="this.style.background='rgba(239, 68, 68, 0.1)'; this.style.color='#ef4444';" onmouseout="this.style.background='transparent'; this.style.color='#6b7280';">
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <!-- Modal Body - Form (Scrollable) -->
                <div class="px-6 sm:px-8 py-6 sm:py-8 overflow-y-auto flex-1" style="scrollbar-width: thin; scrollbar-color: rgba(239, 68, 68, 0.5) rgba(229, 231, 235, 0.3);">
                    <form method="POST" action="/hubungi-sales/" class="space-y-6" id="salesContactForm">
                        {% csrf_token %}
                        
                        <!-- Name Field -->
                        <div class="space-y-2">
                            <label for="sales-name" class="block text-sm sm:text-base font-light text-gray-700">
                                Nama Lengkap <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                    </svg>
                                </div>
                                <input type="text" id="sales-name" name="name" required
                                       class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0"
                                       style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                       placeholder="Masukkan nama lengkap Anda"
                                       onfocus="this.style.borderColor='rgba(239, 68, 68, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(239, 68, 68, 0.1)';"
                                       onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                            </div>
                        </div>

                        <!-- Email Field -->
                        <div class="space-y-2">
                            <label for="sales-email" class="block text-sm sm:text-base font-light text-gray-700">
                                Email <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <input type="email" id="sales-email" name="email" required
                                       class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0"
                                       style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                       placeholder="nama@email.com"
                                       onfocus="this.style.borderColor='rgba(239, 68, 68, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(239, 68, 68, 0.1)';"
                                       onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                            </div>
                        </div>

                        <!-- Phone Field -->
                        <div class="space-y-2">
                            <label for="sales-phone" class="block text-sm sm:text-base font-light text-gray-700">
                                Nomor Telepon <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                    </svg>
                                </div>
                                <input type="tel" id="sales-phone" name="phone" required
                                       class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0"
                                       style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                       placeholder="081234567890"
                                       onfocus="this.style.borderColor='rgba(239, 68, 68, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(239, 68, 68, 0.1)';"
                                       onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                            </div>
                        </div>

                        <!-- Number of Blocks Field -->
                        <div class="space-y-2">
                            <label for="sales-blocks" class="block text-sm sm:text-base font-light text-gray-700">
                                Jumlah Blok Greenhouse <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                                    </svg>
                                </div>
                                <input type="number" id="sales-blocks" name="blocks" required min="1"
                                       class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0"
                                       style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                       placeholder="Contoh: 7, 10, 15"
                                       onfocus="this.style.borderColor='rgba(239, 68, 68, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(239, 68, 68, 0.1)';"
                                       onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                            </div>
                        </div>

                        <!-- Budget Range Field -->
                        <div class="space-y-2">
                            <label for="sales-budget" class="block text-sm sm:text-base font-light text-gray-700">
                                Rentang Budget <span class="text-red-500">*</span>
                            </label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10">
                                    <svg class="w-5 h-5 transition-colors duration-300" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <select id="sales-budget" name="budget" required
                                        class="w-full pl-12 pr-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-offset-0 appearance-none bg-white cursor-pointer"
                                        style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                        onfocus="this.style.borderColor='rgba(239, 68, 68, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(239, 68, 68, 0.1)';"
                                        onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';">
                                    <option value="">Pilih rentang budget</option>
                                    <option value="15-25">Rp 15 - 25 Juta</option>
                                    <option value="25-50">Rp 25 - 50 Juta</option>
                                    <option value="50-100">Rp 50 - 100 Juta</option>
                                    <option value="100+">Rp 100 Juta+</option>
                                </select>
                                <div class="absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none">
                                    <svg class="w-5 h-5" style="color: #9ca3af;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Requirements Field -->
                        <div class="space-y-2">
                            <label for="sales-requirements" class="block text-sm sm:text-base font-light text-gray-700">
                                Kebutuhan Tambahan / Catatan
                            </label>
                            <div class="relative group">
                                <textarea id="sales-requirements" name="requirements" rows="5"
                                          class="w-full px-4 py-3.5 rounded-xl border transition-all duration-300 font-light text-sm sm:text-base resize-none focus:outline-none focus:ring-2 focus:ring-offset-0"
                                          style="border-color: rgba(229, 231, 235, 0.6); background: rgba(255, 255, 255, 0.8);"
                                          placeholder="Jelaskan kebutuhan khusus atau catatan tambahan untuk paket custom Anda..."
                                          onfocus="this.style.borderColor='rgba(239, 68, 68, 0.5)'; this.style.boxShadow='0 0 0 3px rgba(239, 68, 68, 0.1)';"
                                          onblur="this.style.borderColor='rgba(229, 231, 235, 0.6)'; this.style.boxShadow='none';"></textarea>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="pt-4">
                            <button type="submit" 
                                    class="group relative w-full px-6 sm:px-8 py-3.5 sm:py-4 rounded-xl text-white font-light text-sm sm:text-base tracking-wide transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] overflow-hidden shadow-lg hover:shadow-xl"
                                    style="background: linear-gradient(135deg, #f87171 0%, #ef4444 100%); box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);"
                                    onmouseover="this.style.boxShadow='0 6px 16px rgba(239, 68, 68, 0.4)';"
                                    onmouseout="this.style.boxShadow='0 4px 12px rgba(239, 68, 68, 0.3)';">
                                <span class="relative z-10 inline-flex items-center justify-center gap-2">
                                    <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                    </svg>
                                    Kirim Permintaan
                                </span>
                                <div class="absolute inset-0 bg-gradient-to-r from-red-400 to-red-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Sales Success Notification -->
    {% if show_sales_success %}
    <div id="salesSuccessNotification" class="fixed top-4 right-4 left-4 sm:left-auto z-50 max-w-md animate-slide-in-right">
        <div class="bg-white/95 backdrop-blur-md rounded-2xl border border-gray-200/60 shadow-2xl p-6 sm:p-8" style="border-color: rgba(239, 68, 68, 0.4); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);">
            <div class="flex items-start gap-4">
                <div class="flex-shrink-0">
                    <div class="w-12 h-12 rounded-xl flex items-center justify-center shadow-lg" style="background: linear-gradient(135deg, #f87171 0%, #ef4444 100%); box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);">
                        <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                        </svg>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <h3 class="text-lg sm:text-xl text-gray-900 mb-2 font-light tracking-tight">Permintaan Terkirim!</h3>
                    <p class="text-sm sm:text-base text-gray-600 mb-3 font-light leading-relaxed">
                        Terima kasih <strong>{{ sales_success_name }}</strong>, permintaan paket custom Anda telah kami terima.
                    </p>
                    <div class="space-y-2">
                        <p class="text-xs sm:text-sm text-gray-500 font-light">
                            Tim sales kami akan menghubungi Anda melalui kontak yang telah Anda berikan dalam waktu 1x24 jam untuk membahas kebutuhan custom package Anda.
                        </p>
                    </div>
                </div>
                <button onclick="closeSalesSuccessNotification()" class="flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-300 hover:bg-gray-100" style="color: #6b7280;" onmouseover="this.style.background='rgba(239, 68, 68, 0.1)'; this.style.color='#ef4444';" onmouseout="this.style.background='transparent'; this.style.color='#6b7280';">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
    {% endif %}

<!-- Contact Support Success Popup Modal -->
<div id="contactSuccessPopup" class="hidden fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300">
    <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-100" style="animation: scaleIn 0.3s ease-out;">
        <div class="p-8 text-center">
            <!-- Success Icon -->
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-full mb-6 shadow-lg animate-bounce" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 10px 25px rgba(134, 239, 172, 0.4);">
                <svg class="w-10 h-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
            </div>
            
            <!-- Success Message -->
            <h2 class="text-2xl sm:text-3xl text-gray-900 mb-3 font-light tracking-tight">
                Pertanyaan Berhasil Dikirim!
            </h2>
            <p class="text-gray-600 mb-6 text-sm sm:text-base font-light leading-relaxed">
                Terima kasih <strong id="success-name">Pengguna</strong>, pertanyaan Anda telah kami terima dan akan segera diproses oleh tim customer service kami.
            </p>
            
            <!-- Additional Info -->
            <div class="bg-gray-50 rounded-lg p-4 mb-6">
                <p class="text-xs sm:text-sm text-gray-500 font-light mb-2">
                    Tim kami akan menghubungi Anda di
                </p>
                <p class="text-sm sm:text-base font-semibold text-gray-900" id="success-email">
                    -
                </p>
                <p class="text-xs text-gray-500 font-light mt-2">
                    dalam 1x24 jam
                </p>
            </div>
            
            <!-- Close Button -->
            <button onclick="closeContactSuccessPopup()" class="w-full px-6 py-3 rounded-xl text-white font-light text-sm sm:text-base tracking-wide transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl" style="background: linear-gradient(135deg, #86efac 0%, #4ade80 100%); box-shadow: 0 4px 12px rgba(134, 239, 172, 0.3);" onmouseover="this.style.boxShadow='0 6px 16px rgba(134, 239, 172, 0.4)';" onmouseout="this.style.boxShadow='0 4px 12px rgba(134, 239, 172, 0.3)';">
                Tutup
            </button>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
    // Check URL hash FIRST and open corresponding tab immediately (before any default initialization)
    (function() {
        const hash = window.location.hash.substring(1);
        if (hash && (hash === 'forum' || hash === 'faq' || hash === 'pricing')) {
            // Wait for DOM to be ready, then switch tab
            function switchToHashTab() {
                if (typeof showTab === 'function') {
                    showTab(hash);
                } else {
                    // If showTab not yet defined, wait a bit and try again
                    setTimeout(switchToHashTab, 50);
                }
            }
            
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', switchToHashTab);
            } else {
                // DOM already loaded
                setTimeout(switchToHashTab, 10);
            }
        }
    })();
    
    function showTab(tabName) {
        // Hide all content with fade out
        document.querySelectorAll('.tab-content').forEach(content => {
            content.style.opacity = '0';
            content.style.transform = 'translateY(10px)';
            setTimeout(() => {
                content.classList.add('hidden');
            }, 200);
        });
        
        // Remove active class from all tabs - preserve innerHTML
        document.querySelectorAll('.tab-button').forEach(btn => {
            // Store innerHTML to preserve it (including SVG icons)
            const innerHTML = btn.innerHTML;
            
            // Reset styles but keep innerHTML
            btn.style.background = 'rgba(255, 255, 255, 0.8)';
            btn.style.borderColor = 'rgba(229, 231, 235, 0.6)';
            btn.style.color = '#6b7280';
            btn.style.boxShadow = '0 1px 2px 0 rgba(0, 0, 0, 0.05)';
            btn.classList.remove('active-tab');
            btn.className = 'group relative px-6 sm:px-8 py-3 sm:py-3.5 rounded-xl transition-all duration-300 tab-button bg-white/80 backdrop-blur-sm border shadow-sm hover:shadow-md';
            
            // Restore innerHTML to ensure text/icons remain
            btn.innerHTML = innerHTML;
            
            // Update text color in innerHTML if needed
            const textSpan = btn.querySelector('span');
            if (textSpan) {
                textSpan.style.color = '#6b7280';
            }
            
            // Update SVG icon color to gray for inactive tabs
            const svgIcon = btn.querySelector('svg');
            if (svgIcon) {
                svgIcon.style.color = '#6b7280';
                // Also check if SVG has stroke attribute
                if (svgIcon.hasAttribute('stroke')) {
                    svgIcon.setAttribute('stroke', 'currentColor');
                }
            }
            
            btn.onmouseover = function() {
                this.style.borderColor = 'rgba(134, 239, 172, 0.4)';
                this.style.background = 'rgba(134, 239, 172, 0.05)';
                this.style.transform = 'translateY(-2px)';
                const textSpan = this.querySelector('span');
                if (textSpan) {
                    textSpan.style.color = '#86efac';
                }
                // Update SVG icon color on hover
                const svgIcon = this.querySelector('svg');
                if (svgIcon) {
                    svgIcon.style.color = '#86efac';
                }
            };
            btn.onmouseout = function() {
                this.style.borderColor = 'rgba(229, 231, 235, 0.6)';
                this.style.background = 'rgba(255, 255, 255, 0.8)';
                this.style.transform = 'translateY(0)';
                const textSpan = this.querySelector('span');
                if (textSpan) {
                    textSpan.style.color = '#6b7280';
                }
                // Reset SVG icon color on mouseout
                const svgIcon = this.querySelector('svg');
                if (svgIcon) {
                    svgIcon.style.color = '#6b7280';
                }
            };
        });
        
        // Show selected content with fade in
        setTimeout(() => {
            const selectedContent = document.getElementById('content-' + tabName);
            selectedContent.classList.remove('hidden');
            setTimeout(() => {
                selectedContent.style.opacity = '1';
                selectedContent.style.transform = 'translateY(0)';
            }, 10);
        }, 200);
        
        // Add active class to selected tab - preserve innerHTML
        const activeTab = document.getElementById('tab-' + tabName);
        const activeInnerHTML = activeTab.innerHTML;
        activeTab.className = 'group relative px-6 sm:px-8 py-3 sm:py-3.5 rounded-xl transition-all duration-300 tab-button active-tab overflow-hidden';
        activeTab.style.background = 'linear-gradient(135deg, #86efac 0%, #4ade80 100%)';
        activeTab.style.boxShadow = '0 4px 12px rgba(134, 239, 172, 0.3)';
        activeTab.style.borderColor = 'transparent';
        
        // Restore innerHTML and ensure text and SVG icon are white
        activeTab.innerHTML = activeInnerHTML;
        const activeTextSpan = activeTab.querySelector('span');
        if (activeTextSpan) {
            activeTextSpan.style.color = 'white';
        }
        const activeSvg = activeTab.querySelector('svg');
        if (activeSvg) {
            activeSvg.style.color = 'white';
            // Ensure SVG stroke uses currentColor
            if (activeSvg.hasAttribute('stroke')) {
                activeSvg.setAttribute('stroke', 'currentColor');
            }
        }
        
        activeTab.onmouseover = function() {
            this.style.boxShadow = '0 6px 16px rgba(134, 239, 172, 0.4)';
            this.style.transform = 'translateY(-2px)';
        };
        activeTab.onmouseout = function() {
            this.style.boxShadow = '0 4px 12px rgba(134, 239, 172, 0.3)';
            this.style.transform = 'translateY(0)';
        };
    }

    // FAQ Accordion - Smooth & Elegant
    document.querySelectorAll('.faq-question').forEach(button => {
        button.addEventListener('click', () => {
            const faqItem = button.closest('.faq-item');
            const answer = button.nextElementSibling;
            const icon = button.querySelector('.faq-icon');
            const iconSvg = icon.querySelector('svg');
            
            // Toggle current FAQ with smooth animation
            if (answer.classList.contains('hidden')) {
                answer.classList.remove('hidden');
                answer.style.maxHeight = '0';
                answer.style.opacity = '0';
                setTimeout(() => {
                    answer.style.maxHeight = answer.scrollHeight + 'px';
                    answer.style.opacity = '1';
                }, 10);
                iconSvg.style.transform = 'rotate(180deg)';
                icon.style.background = 'rgba(134, 239, 172, 0.2)';
                faqItem.style.borderColor = 'rgba(134, 239, 172, 0.5)';
            } else {
                answer.style.maxHeight = '0';
                answer.style.opacity = '0';
                setTimeout(() => {
                    answer.classList.add('hidden');
                }, 300);
                iconSvg.style.transform = 'rotate(0deg)';
                icon.style.background = 'rgba(134, 239, 172, 0.1)';
                faqItem.style.borderColor = 'rgba(229, 231, 235, 0.6)';
            }
            
            // Close other FAQs
            document.querySelectorAll('.faq-item').forEach(otherItem => {
                if (otherItem !== faqItem) {
                    const otherAnswer = otherItem.querySelector('.faq-answer');
                    const otherIcon = otherItem.querySelector('.faq-icon');
                    const otherIconSvg = otherIcon.querySelector('svg');
                    otherAnswer.style.maxHeight = '0';
                    otherAnswer.style.opacity = '0';
                    setTimeout(() => {
                        otherAnswer.classList.add('hidden');
                    }, 300);
                    otherIconSvg.style.transform = 'rotate(0deg)';
                    otherIcon.style.background = 'rgba(134, 239, 172, 0.1)';
                    otherItem.style.borderColor = 'rgba(229, 231, 235, 0.6)';
                }
            });
        });
    });

    // Initialize tab content transitions
    document.querySelectorAll('.tab-content').forEach(content => {
        content.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
        content.style.opacity = '1';
        content.style.transform = 'translateY(0)';
    });

    // Initialize FAQ answers
    document.querySelectorAll('.faq-answer').forEach(answer => {
        answer.style.transition = 'max-height 0.3s ease, opacity 0.3s ease';
        answer.style.maxHeight = '0';
        answer.style.opacity = '0';
    });

    // Support Modal Functions
    function openSupportModal() {
        const modal = document.getElementById('supportModal');
        const modalContent = document.getElementById('modalContent');
        
        if (modal) {
            modal.classList.remove('hidden');
            // Prevent background scrolling
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed';
            document.body.style.width = '100%';
            
            // Fade in animation
            setTimeout(() => {
                modal.style.opacity = '1';
                if (modalContent) {
                    modalContent.style.opacity = '1';
                    modalContent.style.transform = 'scale(1)';
                }
            }, 10);
        }
    }

    function closeSupportModal() {
        const modal = document.getElementById('supportModal');
        const modalContent = document.getElementById('modalContent');
        
        if (modal) {
            // Fade out animation
            modal.style.opacity = '0';
            if (modalContent) {
                modalContent.style.opacity = '0';
                modalContent.style.transform = 'scale(0.95)';
            }
            
            setTimeout(() => {
                modal.classList.add('hidden');
                // Restore scrolling
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
                
                // Reset form
                const form = document.getElementById('modalContactForm');
                if (form) {
                    form.reset();
                    const charCount = document.getElementById('modalCharCount');
                    if (charCount) {
                        charCount.textContent = '0';
                    }
                }
            }, 300);
        }
    }

    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            const supportModal = document.getElementById('supportModal');
            const salesModal = document.getElementById('salesModal');
            if (supportModal && !supportModal.classList.contains('hidden')) {
                closeSupportModal();
            } else if (salesModal && !salesModal.classList.contains('hidden')) {
                closeSalesModal();
            }
        }
    });

    // Character counter for modal message field
    const modalMessageField = document.getElementById('modal-message');
    const modalCharCount = document.getElementById('modalCharCount');
    
    if (modalMessageField && modalCharCount) {
        modalMessageField.addEventListener('input', function() {
            const length = this.value.length;
            modalCharCount.textContent = length;
            
            if (length > 500) {
                modalCharCount.style.color = '#ef4444';
                this.style.borderColor = 'rgba(239, 68, 68, 0.5)';
            } else if (length > 400) {
                modalCharCount.style.color = '#f59e0b';
            } else {
                modalCharCount.style.color = '#9ca3af';
            }
        });
    }

    // Form validation and submission for modal
    // Success Popup for Contact Support Modal
    function showContactSuccessPopup(name, email) {
        const popup = document.getElementById('contactSuccessPopup');
        if (popup) {
            // Update content
            const nameElement = popup.querySelector('#success-name');
            const emailElement = popup.querySelector('#success-email');
            if (nameElement) nameElement.textContent = name;
            if (emailElement) emailElement.textContent = email;
            
            // Show popup
            popup.classList.remove('hidden');
            popup.classList.add('flex');
        }
    }
    
    function closeContactSuccessPopup() {
        const popup = document.getElementById('contactSuccessPopup');
        if (popup) {
            popup.classList.remove('flex');
            popup.classList.add('hidden');
        }
    }
    
    // Close popup on outside click
    const contactSuccessPopup = document.getElementById('contactSuccessPopup');
    if (contactSuccessPopup) {
        contactSuccessPopup.addEventListener('click', function(e) {
            if (e.target === this) {
                closeContactSuccessPopup();
            }
        });
    }
    
    // Check for success message and show popup
    {% if messages %}
        {% for message in messages %}
            {% if message.tags == 'success' and 'Pesan Anda telah dikirim' in message|stringformat:"s" %}
                // Extract name and email from session if available
                document.addEventListener('DOMContentLoaded', function() {
                    // Close support modal if open
                    closeSupportModal();
                    
                    // Show success popup after a short delay
                    setTimeout(function() {
                        showContactSuccessPopup('{{ contact_form_name|default:"Pengguna" }}', '{{ contact_form_email|default:"" }}');
                    }, 300);
                });
            {% endif %}
        {% endfor %}
    {% endif %}
    
    const modalContactForm = document.getElementById('modalContactForm');
    if (modalContactForm) {
        modalContactForm.addEventListener('submit', function(e) {
            const messageField = document.getElementById('modal-message');
            if (messageField && messageField.value.length > 500) {
                e.preventDefault();
                alert('Pesan tidak boleh lebih dari 500 karakter.');
                return false;
            }
            
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            if (submitBtn) {
                submitBtn.disabled = true;
                const originalHTML = submitBtn.innerHTML;
                submitBtn.innerHTML = '<span class="relative z-10 inline-flex items-center justify-center gap-2"><svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Mengirim...</span>';
                
                // Close modal immediately (form will submit and redirect)
                closeSupportModal();
                
                // If form submission fails, re-enable the button (though redirect should happen)
                setTimeout(() => {
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalHTML;
                }, 5000);
            }
        });
    }

    // Select field styling for modal category
    const modalCategorySelect = document.getElementById('modal-category');
    if (modalCategorySelect) {
        modalCategorySelect.addEventListener('change', function() {
            if (this.value) {
                this.style.color = '#1f2937';
            } else {
                this.style.color = '#9ca3af';
            }
        });
    }

    // Success Notification Functions
    function closeSuccessNotification() {
        const notification = document.getElementById('successNotification');
        if (notification) {
            // Add slide out animation
            notification.classList.remove('animate-slide-in-right');
            notification.classList.add('animate-slide-out-right');
            
            // Remove notification after animation
            setTimeout(() => {
                notification.remove();
                
                // Switch to FAQ tab
                showTab('faq');
                
                // Remove query parameters from URL without page reload
                if (window.history && window.history.pushState) {
                    const url = new URL(window.location);
                    url.searchParams.delete('success');
                    url.searchParams.delete('name');
                    url.searchParams.delete('ticket');
                    window.history.pushState({}, '', url);
                }
            }, 300);
        }
    }

    // Auto-close notification after 10 seconds (optional)
    const successNotification = document.getElementById('successNotification');
    if (successNotification) {
        // Ensure FAQ tab is active when notification appears
        showTab('faq');
        
        // Auto-close after 10 seconds
        setTimeout(() => {
            closeSuccessNotification();
        }, 10000);
    }

    // Sales Modal Functions
    function openSalesModal() {
        const modal = document.getElementById('salesModal');
        const modalContent = document.getElementById('salesModalContent');
        
        if (modal) {
            modal.classList.remove('hidden');
            // Prevent background scrolling
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed';
            document.body.style.width = '100%';
            
            // Fade in animation
            setTimeout(() => {
                modal.style.opacity = '1';
                if (modalContent) {
                    modalContent.style.opacity = '1';
                    modalContent.style.transform = 'scale(1)';
                }
            }, 10);
        }
    }

    function closeSalesModal() {
        const modal = document.getElementById('salesModal');
        const modalContent = document.getElementById('salesModalContent');
        
        if (modal) {
            // Fade out animation
            modal.style.opacity = '0';
            if (modalContent) {
                modalContent.style.opacity = '0';
                modalContent.style.transform = 'scale(0.95)';
            }
            
            setTimeout(() => {
                modal.classList.add('hidden');
                // Restore scrolling
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
                
                // Reset form
                const form = document.getElementById('salesContactForm');
                if (form) {
                    form.reset();
                }
            }, 300);
        }
    }


    // Sales Success Notification Functions
    function closeSalesSuccessNotification() {
        const notification = document.getElementById('salesSuccessNotification');
        if (notification) {
            // Add slide out animation
            notification.classList.remove('animate-slide-in-right');
            notification.classList.add('animate-slide-out-right');
            
            // Remove notification after animation
            setTimeout(() => {
                notification.remove();
                
                // Switch to pricing tab
                showTab('pricing');
                
                // Remove query parameters from URL without page reload
                if (window.history && window.history.pushState) {
                    const url = new URL(window.location);
                    url.searchParams.delete('sales_success');
                    url.searchParams.delete('sales_name');
                    window.history.pushState({}, '', url);
                }
            }, 300);
        }
    }

    // Auto-close sales notification after 10 seconds (optional)
    const salesSuccessNotification = document.getElementById('salesSuccessNotification');
    if (salesSuccessNotification) {
        // Ensure pricing tab is active when notification appears
        showTab('pricing');
        
        // Auto-close after 10 seconds
        setTimeout(() => {
            closeSalesSuccessNotification();
        }, 10000);
    }

    // Form validation and submission for sales modal
    const salesContactForm = document.getElementById('salesContactForm');
    if (salesContactForm) {
        salesContactForm.addEventListener('submit', function(e) {
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            if (submitBtn) {
                submitBtn.disabled = true;
                const originalHTML = submitBtn.innerHTML;
                submitBtn.innerHTML = '<span class="relative z-10 inline-flex items-center justify-center gap-2"><svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Mengirim...</span>';
                
                // Close modal immediately (form will submit and redirect)
                closeSalesModal();
                
                // If form submission fails, re-enable the button (though redirect should happen)
                setTimeout(() => {
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalHTML;
                }, 5000);
            }
        });
    }

    // Select field styling for sales budget
    const salesBudgetSelect = document.getElementById('sales-budget');
    if (salesBudgetSelect) {
        salesBudgetSelect.addEventListener('change', function() {
            if (this.value) {
                this.style.color = '#1f2937';
            } else {
                this.style.color = '#9ca3af';
            }
        });
    }

    // Listen for hash changes (when navigating with back/forward button)
    window.addEventListener('hashchange', function() {
        const hash = window.location.hash.substring(1);
        if (hash && (hash === 'forum' || hash === 'faq' || hash === 'pricing')) {
            if (typeof showTab === 'function') {
                showTab(hash);
            }
        }
    });

    // Initialize modal styles
    const supportModal = document.getElementById('supportModal');
    if (supportModal) {
        supportModal.style.transition = 'opacity 0.3s ease';
        supportModal.style.opacity = '0';
    }
    
    const modalContent = document.getElementById('modalContent');
    if (modalContent) {
        modalContent.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
        modalContent.style.opacity = '0';
        modalContent.style.transform = 'scale(0.95)';
    }

    // Initialize sales modal styles
    const salesModal = document.getElementById('salesModal');
    if (salesModal) {
        salesModal.style.transition = 'opacity 0.3s ease';
        salesModal.style.opacity = '0';
    }
    
    const salesModalContent = document.getElementById('salesModalContent');
    if (salesModalContent) {
        salesModalContent.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
        salesModalContent.style.opacity = '0';
        salesModalContent.style.transform = 'scale(0.95)';
    }
</script>
{% endblock %}


